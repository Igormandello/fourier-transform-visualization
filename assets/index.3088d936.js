import{o as $,c as I,a as t,b as g,w as W,u as G,G as K,p as H,d as O,e as D,t as ie,r as _,f as re,g as X,h as Y,v as ce,i as ue,s as S,j as de,k as me,l as he,m as J,n as Q,F as fe,q as pe,x as _e,y as ve,z as ge}from"./vendor.f11d89fd.js";const be=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function d(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(o){if(o.ep)return;o.ep=!0;const n=d(o);fetch(o.href,n)}};be();var xe="/logo.png";var q=(a,c)=>{for(const[d,u]of c)a[d]=u;return a};const we=a=>(H("data-v-b181d044"),a=a(),O(),a),ye={class:"navbar is-spaced has-shadow",role:"navigation","aria-label":"main navigation"},Me={class:"navbar-menu is-active"},Ve=we(()=>t("div",{class:"navbar-start"},[t("img",{class:"navbar-item",src:xe}),t("a",{class:"navbar-item"},"Fourier Magnitude Spectrum"),t("a",{class:"navbar-item"},"Fourier Series")],-1)),$e={class:"navbar-end"},Ie={class:"navbar-item is-expanded"},Ce={class:"columns is-mobile is-centered"},ke=D(" Watch "),Se=D(" Star "),Fe={setup(a){return(c,d)=>($(),I("nav",ye,[t("div",Me,[Ve,t("div",$e,[t("div",Ie,[t("div",Ce,[g(G(K),{href:"https://github.com/igormandello/fourier-transform-visualization/subscription","data-icon":"octicon-eye","data-size":"large","data-show-count":"true","aria-label":"Watch igormandello/fourier-transform-visualization on GitHub",class:"column is-narrow"},{default:W(()=>[ke]),_:1}),g(G(K),{href:"https://github.com/igormandello/fourier-transform-visualization","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star igormandello/fourier-transform-visualization on GitHub",class:"column is-narrow"},{default:W(()=>[Se]),_:1})])])])])]))}};var ze=q(Fe,[["__scopeId","data-v-b181d044"]]);const Ae={class:"column field"},De={class:"label"},Ue={class:"tag is-primary"},Le=["min","max","step"],Re={props:{modelValue:String,label:String,min:String,max:String,step:String},emits:["update:modelValue","change"],setup(a,{emit:c}){const u=ie(a,"modelValue"),o=_(u.value);return re(o,n=>c("update:modelValue",n)),(n,m)=>($(),I("div",Ae,[t("label",De,[D(X(a.label)+": ",1),t("span",Ue,X(G(u)),1)]),Y(t("input",{"onUpdate:modelValue":m[0]||(m[0]=w=>o.value=w),class:"slider is-circle is-primary",type:"range",min:a.min,max:a.max,step:a.step,onChange:m[1]||(m[1]=w=>n.$emit("change",w))},null,40,Le),[[ce,o.value]])]))}};var R=q(Re,[["__scopeId","data-v-2d24b2c0"]]);const Te={class:"file is-centered is-boxed"},qe={class:"file-label"},Ne=["onchange"],je={class:"file-cta"},Be={class:"file-icon"},Ge=t("span",{class:"file-label"},"Choose an image...",-1),He={emits:["change"],setup(a){return(c,d)=>{const u=ue("FontAwesomeIcon");return $(),I("div",Te,[t("label",qe,[t("input",{class:"file-input",type:"file",accept:"image/png, image/jpeg",onchange:o=>c.$emit("change",o)},null,8,Ne),t("span",je,[t("span",Be,[g(u,{icon:"upload"})]),Ge])])])}}};function Oe(a,c,d,u,o){const n=Math.abs(c-a),m=Math.abs(u-d),w=a<c?1:-1,F=d<u?1:-1;let x=n-m,z=a,A=d;for(;o(z,A),!(z===c&&A===u);){const U=2*x;U>-m&&(x-=m,z+=w),U<n&&(x+=n,A+=F)}}const Z=a=>(H("data-v-4da4805e"),a=a(),O(),a),Ee={class:"section container is-max-widescreen"},Pe={key:0,class:"columns is-centered"},We={class:"column is-one-quarter"},Ke={key:1,class:"columns is-centered is-variable is-6"},Xe={class:"column field is-narrow"},Ye=Z(()=>t("label",{class:"label"},"Invert Filter",-1)),Je=Z(()=>t("label",{for:"invert"},null,-1)),Qe={class:"columns box canvas px-0 py-0"},Ze={setup(a){const c=_(null),d=_(0),u=_(400),o=_(!1),n=_(1.5),m=_(10),w=_("0"),F=_(!1),x=_(null),z=_(null);let A=_(null),U=_(null),i=null,N=null,j=S.zeros([512,512]),L=null;function te(r){const s=r.target.files;if(!s||!s[0])return;const e=new FileReader;e.onload=h=>{const b=document.createElement("img");b.src=h.target.result,b.onload=()=>{const C=document.createElement("canvas");C.width=x.value.width,C.height=x.value.height;const V=C.getContext("2d");he(V,b,0,0,x.value.width,x.value.height,{objectFit:"contain"}),i=V.getImageData(0,0,C.width,C.height);const M=[];for(let l=0;l<i.data.length;l+=4){if(i.data[l+3]===0){M.push([1,0]);continue}const v=(i.data[l]+i.data[l+1]+i.data[l+2])/(255*3);M.push([v,0])}const f=S.array(M).reshape(i.width,i.height,2),p=S.fft(f).tolist();J(p);for(let l=0;l<i.height;l++)J(p[l]);N=S.array(p),y()}},c.value=s[0],e.readAsDataURL(c.value)}function y(){if(!i)return;const r=N.clone();let s=0;const e=[];for(let f=0;f<N.size;f+=2){const p=f/2,l=Math.floor(p/i.width),v=p-l*i.width,k=Math.log(Math.sqrt(Math.pow(r.get(l,v,0),2)+Math.pow(r.get(l,v,1),2)));k>s&&(s=k);const T=Math.sqrt(Math.pow(v-i.width/2,2)+Math.pow(l-i.width/2,2)),ne=T<d.value||T>u.value,le=T>d.value&&T<u.value;if(!o.value&&ne||o.value&&le||j.get(l,v)){e.push(0),r.set(l,v,0,0),r.set(l,v,1,0);continue}e.push(k)}const h=r.tolist();Q(h);for(let f=0;f<i.height;f++)Q(h[f]);const b=S.array(h),C=S.ifft(b).reshape(-1).tolist(),V=new ImageData(i.width,i.height),M=new ImageData(i.width,i.height);for(let f=0;f<i.width*i.height;f++){const p=f*4,l=e[f]*255/s;M.data[p]=l,M.data[p+1]=l,M.data[p+2]=l,M.data[p+3]=255;const v=Math.floor(Math.pow(C[f*2],1/n.value)*255),k=v<0||v<=w.value?0:v;V.data[p]=k,V.data[p+1]=k,V.data[p+2]=k,V.data[p+3]=255}U.putImageData(V,0,0),A.putImageData(M,0,0)}function ae(r){if(!F.value)return;const{x:s,y:e}=P(r);L!==null&&Oe(s,L.x,e,L.y,B),L={x:s,y:e},B(s,e)}function se(r){const{x:s,y:e}=P(r);B(s,e),y()}function B(r,s){const e=m.value;for(let h=-e;h<e;h++)for(let b=-e;b<e;b++)Math.sqrt(h*h+b*b)>e||j.set(h+s,b+r,1)}function E(){!F.value||(F.value=!1,L=null,y())}function oe(){j=S.zeros([512,512]),y()}function P(r){return{x:Math.floor(r.target.width*r.offsetX/r.target.clientWidth),y:Math.floor(r.target.height*r.offsetY/r.target.clientHeight)}}return de(()=>{A=x.value.getContext("2d"),U=z.value.getContext("2d")}),(r,s)=>($(),I("section",Ee,[c.value===null?($(),I("div",Pe,[t("div",We,[g(He,{onChange:te})])])):($(),I("div",Ke,[g(R,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),label:"Minimum Radius",min:"0",max:"400",step:"1",onChange:y},null,8,["modelValue"]),g(R,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=e=>u.value=e),label:"Maximum Radius",min:"0",max:"400",step:"1",onChange:y},null,8,["modelValue"]),g(R,{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=e=>n.value=e),label:"Gamma",min:"0.1",max:"3",step:"0.1",onChange:y},null,8,["modelValue"]),g(R,{modelValue:m.value,"onUpdate:modelValue":s[3]||(s[3]=e=>m.value=e),label:"Brush size",min:"5",max:"50",step:"1"},null,8,["modelValue"]),g(R,{modelValue:w.value,"onUpdate:modelValue":s[4]||(s[4]=e=>w.value=e),label:"Minimum value",min:"0",max:"255",step:"1",onChange:y},null,8,["modelValue"]),t("div",Xe,[Ye,Y(t("input",{id:"invert","onUpdate:modelValue":s[5]||(s[5]=e=>o.value=e),type:"checkbox",class:"switch is-rounded is-small",onChange:y},null,544),[[me,o.value]]),Je]),t("div",{class:"column field is-narrow is-flex is-align-items-center"},[t("button",{onClick:oe,class:"button is-primary"},"Clear Mask")])])),t("div",Qe,[t("canvas",{ref:(e,h)=>{h.canvas=e,x.value=e},class:"column px-0 py-0",width:"512",height:"512",onClick:se,onMousedown:s[6]||(s[6]=e=>F.value=!0),onMouseup:E,onMouseleave:E,onMousemove:ae},null,544),t("canvas",{ref:(e,h)=>{h.resultCanvas=e,z.value=e},class:"column px-0 py-0",width:"512",height:"512"},null,512)])]))}};var et=q(Ze,[["__scopeId","data-v-4da4805e"]]);const tt={},at=a=>(H("data-v-34fe3d60"),a=a(),O(),a),st={class:"footer"},ot=at(()=>t("div",{class:"content has-text-centered"},[t("p",null,[D(" Created by "),t("a",{href:"https://github.com/igormandello",rel:"noopener",target:"__blank"},"Igor Mandello"),D(". The source code is licensed "),t("a",{href:"http://opensource.org/licenses/mit-license.php",rel:"noopener",target:"__blank"},"MIT"),D(". ")])],-1)),nt=[ot];function lt(a,c){return $(),I("footer",st,nt)}var it=q(tt,[["render",lt],["__scopeId","data-v-34fe3d60"]]);const rt={class:"content"},ct={setup(a){return(c,d)=>($(),I(fe,null,[g(ze),t("div",rt,[g(et)]),g(it)],64))}},ee=pe(ct);_e.add(ve);ee.component("FontAwesomeIcon",ge);ee.mount("#app");
