import{r as G,o as M,c as V,a as s,b as p,w as B,u as O,G as X,p as E,d as W,e as I,F as re,t as ce,f as v,g as ue,h as Y,i as J,v as de,s as F,j as me,k as _e,l as he,m as Q,n as Z,q as fe,x as pe,y as ve,z as ge,A as be,B as xe}from"./vendor.f1c2ae1e.js";const we=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function d(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=d(o);fetch(o.href,i)}};we();var ye="/fourier-transform-visualization/logo.png";var R=(t,r)=>{for(const[d,n]of r)t[d]=n;return t};const $e=t=>(E("data-v-226dd509"),t=t(),W(),t),Me={class:"navbar is-spaced has-shadow",role:"navigation","aria-label":"main navigation"},Ve={class:"navbar-menu is-active"},Ce={class:"navbar-start"},Ie=$e(()=>s("img",{class:"navbar-item",src:ye},null,-1)),ke=I("Fourier Magnitude Spectrum"),Se=I("Fourier Series"),Fe={class:"navbar-end"},ze={class:"navbar-item is-expanded"},Ae={class:"columns is-mobile is-centered"},De=I(" Watch "),Ue=I(" Star "),Le={setup(t){return(r,d)=>{const n=G("router-link");return M(),V("nav",Me,[s("div",Ve,[s("div",Ce,[Ie,p(n,{class:"navbar-item",to:"/"},{default:B(()=>[ke]),_:1}),p(n,{class:"navbar-item",to:"/series"},{default:B(()=>[Se]),_:1})]),s("div",Fe,[s("div",ze,[s("div",Ae,[p(O(X),{href:"https://github.com/igormandello/fourier-transform-visualization/subscription","data-icon":"octicon-eye","data-size":"large","data-show-count":"true","aria-label":"Watch igormandello/fourier-transform-visualization on GitHub",class:"column is-narrow"},{default:B(()=>[De]),_:1}),p(O(X),{href:"https://github.com/igormandello/fourier-transform-visualization","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star igormandello/fourier-transform-visualization on GitHub",class:"column is-narrow"},{default:B(()=>[Ue]),_:1})])])])])])}}};var Re=R(Le,[["__scopeId","data-v-226dd509"]]);const Te={},qe=t=>(E("data-v-34fe3d60"),t=t(),W(),t),Be={class:"footer"},He=qe(()=>s("div",{class:"content has-text-centered"},[s("p",null,[I(" Created by "),s("a",{href:"https://github.com/igormandello",rel:"noopener",target:"__blank"},"Igor Mandello"),I(". The source code is licensed "),s("a",{href:"http://opensource.org/licenses/mit-license.php",rel:"noopener",target:"__blank"},"MIT"),I(". ")])],-1)),Ne=[He];function je(t,r){return M(),V("footer",Be,Ne)}var Ge=R(Te,[["render",je],["__scopeId","data-v-34fe3d60"]]);const Oe={setup(t){return(r,d)=>{const n=G("router-view");return M(),V(re,null,[p(Re),p(n,{class:"content"}),p(Ge)],64)}}};const Ee={class:"column field"},We={class:"label"},Pe={class:"tag is-primary"},Ke=["min","max","step"],Xe={props:{modelValue:String,label:String,min:String,max:String,step:String},emits:["update:modelValue","change"],setup(t,{emit:r}){const n=ce(t,"modelValue"),o=v(n.value);return ue(o,i=>r("update:modelValue",i)),(i,m)=>(M(),V("div",Ee,[s("label",We,[I(Y(t.label)+": ",1),s("span",Pe,Y(O(n)),1)]),J(s("input",{"onUpdate:modelValue":m[0]||(m[0]=w=>o.value=w),class:"slider is-circle is-primary",type:"range",min:t.min,max:t.max,step:t.step,onChange:m[1]||(m[1]=w=>i.$emit("change",w))},null,40,Ke),[[de,o.value]])]))}};var T=R(Xe,[["__scopeId","data-v-2d24b2c0"]]);const Ye={class:"file is-centered is-boxed"},Je={class:"file-label"},Qe=["onchange"],Ze={class:"file-cta"},et={class:"file-icon"},tt=s("span",{class:"file-label"},"Choose an image...",-1),at={emits:["change"],setup(t){return(r,d)=>{const n=G("FontAwesomeIcon");return M(),V("div",Ye,[s("label",Je,[s("input",{class:"file-input",type:"file",accept:"image/png, image/jpeg",onchange:o=>r.$emit("change",o)},null,8,Qe),s("span",Ze,[s("span",et,[p(n,{icon:"upload"})]),tt])])])}}};function st(t,r,d,n,o){const i=Math.abs(r-t),m=Math.abs(n-d),w=t<r?1:-1,z=d<n?1:-1;let x=i-m,A=t,D=d;for(;o(A,D),!(A===r&&D===n);){const U=2*x;U>-m&&(x-=m,A+=w),U<i&&(x+=i,D+=z)}}const ee=t=>(E("data-v-8f80d0a2"),t=t(),W(),t),ot={class:"section container is-max-widescreen"},nt={key:0,class:"columns is-centered"},it={class:"column is-one-quarter"},lt={key:1,class:"columns is-centered is-variable is-6"},rt={class:"column field is-narrow"},ct=ee(()=>s("label",{class:"label"},"Invert Filter",-1)),ut=ee(()=>s("label",{for:"invert"},null,-1)),dt={class:"columns box canvas px-0 py-0"},mt={setup(t){const r=v(null),d=v("0"),n=v("400"),o=v(!1),i=v("1.5"),m=v("10"),w=v("0"),z=v(!1),x=v(null),A=v(null);let D=v(null),U=v(null),c=null,H=null,N=F.zeros([512,512]),L=null;function ae(u){const a=u.target.files;if(!a||!a[0])return;const e=new FileReader;e.onload=_=>{const b=document.createElement("img");b.src=_.target.result,b.onload=()=>{const k=document.createElement("canvas");k.width=x.value.width,k.height=x.value.height;const C=k.getContext("2d");he(C,b,0,0,x.value.width,x.value.height,{objectFit:"contain"}),c=C.getImageData(0,0,k.width,k.height);const $=[];for(let l=0;l<c.data.length;l+=4){if(c.data[l+3]===0){$.push([1,0]);continue}const g=(c.data[l]+c.data[l+1]+c.data[l+2])/(255*3);$.push([g,0])}const h=F.array($).reshape(c.width,c.height,2),f=F.fft(h).tolist();Q(f);for(let l=0;l<c.height;l++)Q(f[l]);H=F.array(f),y()}},r.value=a[0],e.readAsDataURL(r.value)}function y(){if(!c)return;const u=H.clone();let a=0;const e=[];for(let h=0;h<H.size;h+=2){const f=h/2,l=Math.floor(f/c.width),g=f-l*c.width,S=Math.log(Math.sqrt(Math.pow(u.get(l,g,0),2)+Math.pow(u.get(l,g,1),2)));S>a&&(a=S);const q=Math.sqrt(Math.pow(g-c.width/2,2)+Math.pow(l-c.width/2,2)),ie=q<d.value||q>n.value,le=q>d.value&&q<n.value;if(!o.value&&ie||o.value&&le||N.get(l,g)){e.push(0),u.set(l,g,0,0),u.set(l,g,1,0);continue}e.push(S)}const _=u.tolist();Z(_);for(let h=0;h<c.height;h++)Z(_[h]);const b=F.array(_),k=F.ifft(b).reshape(-1).tolist(),C=new ImageData(c.width,c.height),$=new ImageData(c.width,c.height);for(let h=0;h<c.width*c.height;h++){const f=h*4,l=e[h]*255/a;$.data[f]=l,$.data[f+1]=l,$.data[f+2]=l,$.data[f+3]=255;const g=Math.floor(Math.pow(k[h*2],1/i.value)*255),S=g<0||g<=w.value?0:g;C.data[f]=S,C.data[f+1]=S,C.data[f+2]=S,C.data[f+3]=255}U.putImageData(C,0,0),D.putImageData($,0,0)}function se(u){if(!z.value)return;const{x:a,y:e}=K(u);L!==null&&st(a,L.x,e,L.y,j),L={x:a,y:e},j(a,e)}function oe(u){const{x:a,y:e}=K(u);j(a,e),y()}function j(u,a){const e=m.value;for(let _=-e;_<e;_++)for(let b=-e;b<e;b++)Math.sqrt(_*_+b*b)>e||N.set(_+a,b+u,1)}function P(){!z.value||(z.value=!1,L=null,y())}function ne(){N=F.zeros([512,512]),y()}function K(u){return{x:Math.floor(u.target.width*u.offsetX/u.target.clientWidth),y:Math.floor(u.target.height*u.offsetY/u.target.clientHeight)}}return me(()=>{D=x.value.getContext("2d"),U=A.value.getContext("2d")}),(u,a)=>(M(),V("section",ot,[r.value===null?(M(),V("div",nt,[s("div",it,[p(at,{onChange:ae})])])):(M(),V("div",lt,[p(T,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),label:"Minimum Radius",min:"0",max:"400",step:"1",onChange:y},null,8,["modelValue"]),p(T,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),label:"Maximum Radius",min:"0",max:"400",step:"1",onChange:y},null,8,["modelValue"]),p(T,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=e=>i.value=e),label:"Gamma",min:"0.1",max:"3",step:"0.1",onChange:y},null,8,["modelValue"]),p(T,{modelValue:m.value,"onUpdate:modelValue":a[3]||(a[3]=e=>m.value=e),label:"Brush size",min:"5",max:"50",step:"1"},null,8,["modelValue"]),p(T,{modelValue:w.value,"onUpdate:modelValue":a[4]||(a[4]=e=>w.value=e),label:"Minimum value",min:"0",max:"255",step:"1",onChange:y},null,8,["modelValue"]),s("div",rt,[ct,J(s("input",{id:"invert","onUpdate:modelValue":a[5]||(a[5]=e=>o.value=e),type:"checkbox",class:"switch is-rounded is-small",onChange:y},null,544),[[_e,o.value]]),ut]),s("div",{class:"column field is-narrow is-flex is-align-items-center"},[s("button",{onClick:ne,class:"button is-primary"},"Clear Mask")])])),s("div",dt,[s("canvas",{ref:(e,_)=>{_.canvas=e,x.value=e},class:"column px-0 py-0",width:"512",height:"512",onClick:oe,onMousedown:a[6]||(a[6]=e=>z.value=!0),onMouseup:P,onMouseleave:P,onMousemove:se},null,544),s("canvas",{ref:(e,_)=>{_.resultCanvas=e,A.value=e},class:"column px-0 py-0",width:"512",height:"512"},null,512)])]))}};var _t=R(mt,[["__scopeId","data-v-8f80d0a2"]]);const ht={},ft={class:"section"},pt=s("h1",{class:"title"},"Coming soon...",-1),vt=[pt];function gt(t,r){return M(),V("section",ft,vt)}var bt=R(ht,[["render",gt]]);const xt=[{path:"/",name:"Visualization",component:_t},{path:"/series",name:"Series",component:bt}],wt=fe({history:pe(),routes:xt}),te=ve(Oe).use(wt);ge.add(be);te.component("FontAwesomeIcon",xe);te.mount("#app");
