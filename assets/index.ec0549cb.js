import{r as j,o as N,c as D,a as u,b as x,w as T,u as W,G as K,p as E,d as G,e as k,F as ie,t as J,f as V,g as Q,h as Z,i as B,v as le,j as re,k as ue,l as ce,s as P,m as ee,n as te,q as O,x as de,y as me,z as pe,A as he,B as fe,C as ve,D as ge}from"./vendor.6cf98e60.js";const _e=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=a(o);fetch(o.href,i)}};_e();var ye="/fourier-transform-visualization/logo.png";var H=(e,t)=>{for(const[a,s]of t)e[a]=s;return e};const be=e=>(E("data-v-226dd509"),e=e(),G(),e),xe={class:"navbar is-spaced has-shadow",role:"navigation","aria-label":"main navigation"},we={class:"navbar-menu is-active"},Ve={class:"navbar-start"},Me=be(()=>u("img",{class:"navbar-item",src:ye},null,-1)),Ie=k("Fourier Magnitude Spectrum"),Se=k("Fourier Series"),$e={class:"navbar-end"},Fe={class:"navbar-item is-expanded"},ke={class:"columns is-mobile is-centered"},Pe=k(" Watch "),Ce=k(" Star "),Ne={setup(e){return(t,a)=>{const s=j("router-link");return N(),D("nav",xe,[u("div",we,[u("div",Ve,[Me,x(s,{class:"navbar-item",to:"/"},{default:T(()=>[Ie]),_:1}),x(s,{class:"navbar-item",to:"/series"},{default:T(()=>[Se]),_:1})]),u("div",$e,[u("div",Fe,[u("div",ke,[x(W(K),{href:"https://github.com/igormandello/fourier-transform-visualization/subscription","data-icon":"octicon-eye","data-size":"large","data-show-count":"true","aria-label":"Watch igormandello/fourier-transform-visualization on GitHub",class:"column is-narrow"},{default:T(()=>[Pe]),_:1}),x(W(K),{href:"https://github.com/igormandello/fourier-transform-visualization","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star igormandello/fourier-transform-visualization on GitHub",class:"column is-narrow"},{default:T(()=>[Ce]),_:1})])])])])])}}};var De=H(Ne,[["__scopeId","data-v-226dd509"]]);const Ue={},ze=e=>(E("data-v-34fe3d60"),e=e(),G(),e),Le={class:"footer"},Ae=ze(()=>u("div",{class:"content has-text-centered"},[u("p",null,[k(" Created by "),u("a",{href:"https://github.com/igormandello",rel:"noopener",target:"__blank"},"Igor Mandello"),k(". The source code is licensed "),u("a",{href:"http://opensource.org/licenses/mit-license.php",rel:"noopener",target:"__blank"},"MIT"),k(". ")])],-1)),qe=[Ae];function Be(e,t){return N(),D("footer",Le,qe)}var He=H(Ue,[["render",Be],["__scopeId","data-v-34fe3d60"]]);const Re={setup(e){return(t,a)=>{const s=j("router-view");return N(),D(ie,null,[x(De),x(s,{class:"content"}),x(He)],64)}}};const Te={class:"column field"},Ee={class:"label"},Ge={class:"tag is-primary"},je=["min","max","step"],We={props:{modelValue:String|Number,label:String,min:String|Number,max:String|Number,step:String},emits:["update:modelValue","change"],setup(e,{emit:t}){const s=J(e,"modelValue"),o=V(s.value);return Q(o,i=>t("update:modelValue",Number.parseFloat(i))),(i,l)=>(N(),D("div",Te,[u("label",Ee,[k(Z(e.label)+": ",1),u("span",Ge,Z(W(s)),1)]),B(u("input",{"onUpdate:modelValue":l[0]||(l[0]=h=>o.value=h),class:"slider is-circle is-primary",type:"range",min:e.min,max:e.max,step:e.step,onChange:l[1]||(l[1]=h=>i.$emit("change",h))},null,40,je),[[le,o.value]])]))}};var L=H(We,[["__scopeId","data-v-6e3a3e62"]]);const Oe=e=>(E("data-v-3f360b39"),e=e(),G(),e),Xe={class:"file is-centered is-boxed"},Ye={class:"file-label"},Ke={class:"file-cta"},Je={class:"file-icon"},Qe=Oe(()=>u("span",{class:"file-label"},"Choose an image...",-1)),Ze={props:{width:Number,height:Number},emits:["imageLoaded"],setup(e,{emit:t}){const a=e,{width:s,height:o}=re(a);function i(l){const h=l.target.files;if(!h||!h[0])return;const d=new FileReader;d.onload=g=>{const m=document.createElement("img");m.src=g.target.result,m.onload=()=>{const n=document.createElement("canvas");n.width=s.value,n.height=o.value;const f=n.getContext("2d");ue(f,m,0,0,n.width,n.height,{objectFit:"contain"});const y=f.getImageData(0,0,n.width,n.height);t("imageLoaded",y)}},d.readAsDataURL(h[0])}return(l,h)=>{const d=j("FontAwesomeIcon");return N(),D("div",Xe,[u("label",Ye,[u("input",{class:"file-input",type:"file",accept:"image/png, image/jpeg",onchange:i}),u("span",Ke,[u("span",Je,[x(d,{icon:"upload"})]),Qe])])])}}};var et=H(Ze,[["__scopeId","data-v-3f360b39"]]);function tt(e,t,a,s,o){const i=Math.abs(t-e),l=Math.abs(s-a),h=e<t?1:-1,d=a<s?1:-1;let g=i-l,m=e,n=a;for(;o(m,n),!(m===t&&n===s);){const f=2*g;f>-l&&(g-=l,m+=h),f<i&&(g+=i,n+=d)}}const ot=["width","height"],X={props:{width:Number,height:Number,shouldInterpolateDrag:Boolean},emits:["drawPoint","finishedDrawing","update:context"],setup(e,{emit:t}){const a=e,s=V(null),o=V(!1),i=J(a,"shouldInterpolateDrag");let l=null;function h(n){if(!o.value)return;const{x:f,y}=m(n);l&&i.value&&tt(f,l.x,y,l.y,(S,C)=>t("drawPoint",S,C)),l={x:f,y},t("drawPoint",f,y)}function d(n){const{x:f,y}=m(n);t("drawPoint",f,y),t("finishedDrawing")}function g(){!o.value||(o.value=!1,l=null,t("finishedDrawing"))}function m(n){return{x:Math.floor(n.target.width*n.offsetX/n.target.clientWidth),y:Math.floor(n.target.height*n.offsetY/n.target.clientHeight)}}return ce(()=>{t("update:context",s.value.getContext("2d"))}),(n,f)=>(N(),D("canvas",{ref:(y,S)=>{S.canvas=y,s.value=y},width:e.width,height:e.height,onClick:d,onMousemove:h,onMousedown:f[0]||(f[0]=y=>o.value=!0),onMouseup:g,onMouseleave:g},null,40,ot))}};function st(e,t,a,s,o,i){const l=a<s||a>o,h=a>s&&a<o;return!i&&l||i&&h?{realValue:0,imaginaryValue:0}:{realValue:e,imaginaryValue:t}}function nt(e,t,a){const s=1/(1+Math.pow(t/e,4));return{high:Number.isNaN(s)?1:s,low:1/(1+Math.pow(e/a,2))}}function at(e,t,a){const s=1-Math.exp(-(e*e/(2*t*t)));return{high:Number.isNaN(s)?1:s,low:Math.exp(-(e*e/(2*a*a)))}}function oe(e){return(t,a,s,o,i,l)=>{const h=l?s-o:s,{high:d,low:g}=e(h,o,i);return{realValue:t*g*d,imaginaryValue:a*g*d}}}const it=oe(nt),lt=oe(at),rt={ideal:st,butterworth:it,gaussian:lt};function ut(e){const t=[];for(let o=0;o<e.data.length;o+=4){if(e.data[o+3]===0){t.push([1,0]);continue}const i=(e.data[o]+e.data[o+1]+e.data[o+2])/(255*3);t.push([i,0])}const a=P.array(t).reshape(e.width,e.height,2),s=P.fft(a).tolist();te(s);for(let o=0;o<e.height;o++)te(s[o]);return P.array(s)}function ct(e){const t=e.tolist();ee(t);for(let s=0;s<e.shape[0];s++)ee(t[s]);const a=P.array(t);return P.ifft(a).reshape(-1).tolist()}function dt(e,t,a,s,o,i){const l=e.shape[0],h=e.shape[1];let d=0;const g=[];for(let m=0;m<l;m++)for(let n=0;n<h;n++){const f=Math.sqrt(Math.pow(n-h/2,2)+Math.pow(m-l/2,2)),y=e.get(m,n,0),S=e.get(m,n,1),{realValue:C,imaginaryValue:M}=rt[t](y,S,f,a,s,o);e.set(m,n,0,C),e.set(m,n,1,M);const q=Math.sqrt(C*C+M*M),z=Math.log(q);if(z>d&&(d=z),i.get(m,n)){g.push(0),e.set(m,n,0,0),e.set(m,n,1,0);continue}g.push(z)}return{maxMag:d,magnitudesList:g}}function se(e,t,a){e.data[t]=a,e.data[t+1]=a,e.data[t+2]=a,e.data[t+3]=255}const ne=e=>(E("data-v-d8ea2e1e"),e=e(),G(),e),mt={class:"section container is-max-widescreen"},pt={key:0,class:"columns is-centered mb-4"},ht={class:"column is-one-quarter"},ft={key:1,class:"columns is-multiline is-centered is-variable is-6 mt-4"},vt={class:"column field is-flex is-align-items-center is-justify-content-center"},gt={class:"radio mr-4"},_t=k(" Ideal "),yt={class:"radio mr-4"},bt=k(" Butterworth "),xt={class:"radio"},wt=k(" Gaussian "),Vt={class:"column field is-narrow"},Mt=ne(()=>u("label",{class:"label"},"Invert Filter",-1)),It=ne(()=>u("label",{for:"invert"},null,-1)),St={class:"columns box canvas px-0 py-0 mt-1"},$t={setup(e){const t=V(!1),a=V("0"),s=V("400"),o=V(!1),i=V("1.5"),l=V("10"),h=V("0"),d=V("ideal"),g=V(null),m=V(null),n=512,f=512;let y=null,S=P.zeros([n,f]);Q(d,M);function C(U){t.value=!0,y=ut(U),M()}function M(){const U=y.clone(),{maxMag:v,magnitudesList:p}=dt(U,d.value,a.value,s.value,o.value,S),c=ct(U),r=new ImageData(n,f),_=new ImageData(n,f);for(let w=0;w<n*f;w++){const b=w*4,I=p[w]*255/v;se(_,b,I);const $=Math.floor(Math.pow(c[w*2],1/i.value)*255),R=$<0||$<=h.value?0:$;se(r,b,R)}m.value.putImageData(r,0,0),g.value.putImageData(_,0,0)}function q(U,v){const p=l.value;for(let c=-p;c<p;c++)for(let r=-p;r<p;r++)Math.sqrt(c*c+r*r)>p||S.set(c+v,r+U,1)}function z(){S=P.zeros([n,f]),M()}return(U,v)=>(N(),D("section",mt,[t.value?(N(),D("div",ft,[x(L,{modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=p=>a.value=p),class:"is-one-third-tablet is-one-fifth-desktop",label:"Minimum Radius",min:"0",max:"400",step:"1",onChange:M},null,8,["modelValue"]),x(L,{modelValue:s.value,"onUpdate:modelValue":v[1]||(v[1]=p=>s.value=p),class:"is-one-third-tablet is-one-fifth-desktop",label:"Maximum Radius",min:"0",max:"400",step:"1",onChange:M},null,8,["modelValue"]),x(L,{modelValue:i.value,"onUpdate:modelValue":v[2]||(v[2]=p=>i.value=p),class:"is-one-third-tablet is-one-fifth-desktop",label:"Gamma",min:"0.1",max:"3",step:"0.1",onChange:M},null,8,["modelValue"]),x(L,{modelValue:l.value,"onUpdate:modelValue":v[3]||(v[3]=p=>l.value=p),class:"is-half-tablet is-one-fifth-desktop",label:"Brush size",min:"5",max:"50",step:"1"},null,8,["modelValue"]),x(L,{modelValue:h.value,"onUpdate:modelValue":v[4]||(v[4]=p=>h.value=p),class:"is-half-tablet is-one-fifth-desktop",label:"Minimum value",min:"0",max:"255",step:"1",onChange:M},null,8,["modelValue"]),u("div",vt,[u("label",gt,[B(u("input",{"onUpdate:modelValue":v[5]||(v[5]=p=>d.value=p),value:"ideal",type:"radio",name:"filterType"},null,512),[[O,d.value]]),_t]),u("label",yt,[B(u("input",{"onUpdate:modelValue":v[6]||(v[6]=p=>d.value=p),value:"butterworth",type:"radio",name:"filterType"},null,512),[[O,d.value]]),bt]),u("label",xt,[B(u("input",{"onUpdate:modelValue":v[7]||(v[7]=p=>d.value=p),value:"gaussian",type:"radio",name:"filterType"},null,512),[[O,d.value]]),wt])]),u("div",Vt,[Mt,B(u("input",{id:"invert","onUpdate:modelValue":v[8]||(v[8]=p=>o.value=p),type:"checkbox",class:"switch is-rounded is-small",onChange:M},null,544),[[de,o.value]]),It]),u("div",{class:"column field is-narrow is-flex is-align-items-center is-justify-content-center"},[u("button",{onClick:z,class:"button is-primary"},"Clear Mask")])])):(N(),D("div",pt,[u("div",ht,[x(et,{onImageLoaded:C,width:n,height:f})])])),u("div",St,[x(X,{context:g.value,"onUpdate:context":v[9]||(v[9]=p=>g.value=p),class:"column px-0 py-0",width:n,height:f,shouldInterpolateDrag:!0,onDrawPoint:q,onFinishedDrawing:M},null,8,["context"]),x(X,{context:m.value,"onUpdate:context":v[10]||(v[10]=p=>m.value=p),class:"column px-0 py-0",width:n,height:f},null,8,["context"])])]))}};var Ft=H($t,[["__scopeId","data-v-d8ea2e1e"]]);const kt={class:"section container is-max-widescreen"},Pt={class:"columns is-multiline is-centered is-variable is-6 mt-4"},Ct={class:"columns box canvas px-0 py-0 mt-1"},Nt={setup(e){const t=V(null),a=V(50),s=V(2),o=V(150),i=V(150),l=720,h=720,d=[],g=[];let m=0,n=null,f=null;function y(){S(),C()}function S(){m=0,g.splice(0,g.length)}function C(){const c=P.array(d.flatMap(F=>[F.x,0])).reshape(d.length,2),r=P.array(d.flatMap(F=>[F.y,0])).reshape(d.length,2),_=P.fft(c).tolist(),w=P.fft(r).tolist(),b=[],I=[];let $=0,R=0;for(let F=0;F<d.length;F++){const A=M(F,_);$+=A.amplitude,b.push(A);const Y=M(F,w);R+=Y.amplitude,I.push(Y)}a.value=Math.max($/(l-o.value),R/(h-i.value)),n={x:b.sort((F,A)=>A.amplitude-F.amplitude),y:I.sort((F,A)=>A.amplitude-F.amplitude)},f&&clearInterval(f),f=setInterval(()=>{m+=s.value*2*Math.PI/d.length,m>2*Math.PI&&S(),z()},20)}function M(c,r){const _=c,w=r[c][0],b=r[c][1],I=Math.sqrt(w*w+b*b),$=Math.atan2(b,w);return{realPart:w,imaginaryPart:b,frequency:_,amplitude:I,phase:$}}function q(c,r){d.unshift({x:c,y:r})}function z(){if(n===null){p();return}U()}function U(){const c=t.value;c.fillStyle="#FFF",c.fillRect(0,0,l,h),c.lineWidth=1,c.strokeStyle="rgba(0, 0, 0, 0.1)";const r=v({series:n.x,x:o.value,y:100,phaseOffset:0}),_=v({series:n.y,x:100,y:i.value,phaseOffset:Math.PI/2}),w=r.x,b=_.y;c.beginPath(),c.moveTo(r.x,r.y),c.lineTo(w,b),c.moveTo(_.x,_.y),c.lineTo(w,b),c.stroke(),g.push({x:w,y:b}),c.fillStyle="#000";for(const I of g)c.fillRect(I.x,I.y,1,1)}function v({series:c,x:r,y:_,phaseOffset:w}){const b=t.value;for(const I of c){const $=I.amplitude/a.value;b.beginPath(),b.arc(r,_,$,0,Math.PI*2),b.moveTo(r,_),r+=Math.cos(I.frequency*m+I.phase+w)*$,_+=Math.sin(I.frequency*m+I.phase+w)*$,b.lineTo(r,_),b.stroke()}return{x:r,y:_}}function p(){const c=t.value;if(c.fillStyle="#FFF",c.fillRect(0,0,l,h),d.length!==0){c.fillStyle="#000";for(const r of d)c.fillRect(r.x,r.y,1,1)}}return(c,r)=>(N(),D("section",kt,[u("div",Pt,[x(L,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=_=>s.value=_),class:"is-one-third-desktop",label:"Speed",min:"1",max:"20",step:"1",onChange:y},null,8,["modelValue"]),x(L,{modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=_=>o.value=_),class:"is-one-third-desktop",label:"X Epicycles Position",min:"100",max:l,step:"1",onChange:y},null,8,["modelValue"]),x(L,{modelValue:i.value,"onUpdate:modelValue":r[2]||(r[2]=_=>i.value=_),class:"is-one-third-desktop",label:"Y Epicycles Position",min:"100",max:h,step:"1",onChange:y},null,8,["modelValue"]),u("div",{class:"column field is-narrow is-flex is-align-items-center is-justify-content-center"},[u("button",{onClick:C,class:"button is-primary"},"Generate Series")])]),u("div",Ct,[x(X,{context:t.value,"onUpdate:context":r[3]||(r[3]=_=>t.value=_),class:"column px-0 py-0",width:l,height:h,onDrawPoint:q,onFinishedDrawing:z,shouldInterpolateDrag:!0},null,8,["context"])])]))}},Dt=[{path:"/",name:"Visualization",component:Ft},{path:"/series",name:"Series",component:Nt}],Ut=me({history:pe("/fourier-transform-visualization/"),routes:Dt}),ae=he(Re).use(Ut);fe.add(ve);ae.component("FontAwesomeIcon",ge);ae.mount("#app");
